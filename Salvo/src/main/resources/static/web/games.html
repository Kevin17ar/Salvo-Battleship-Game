<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Battleship Game</title>

    <link rel="stylesheet" href="./styles/games.css">
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" rel="stylesheet" />
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
    <!-- MDB -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.6.0/mdb.min.css" rel="stylesheet" />

</head>

<body>
    <div class="contenedor">
        <div class="loader">
            <div class="linea"></div>
            <div class="linea"></div>
            <div class="linea"></div>
            <div class="linea"></div>
            <div class="linea"></div>
            <div class="linea"></div>
            <div class="linea"></div>
            <div class="linea"></div>
        </div>
    </div>
    <div id="app" class="wrapper">
        <div class="d-flex justify-content-end">
            <button v-show="sesionR" @click="signOut" type="button" class="btn btn-danger m-4">
                Sign Out
            </button>
        </div>
        <header class="d-flex justify-content-center">
            <h1 class="text-white">BATTLESHIP</h1>

        </header>
        {{sesion}}
        <main class="d-flex flex-column align-items-center pt-5">
            <section class="d-flex justify-content-center mb-5">
                <button @click="createGame" class="cybr-btn me-5" style="background-color: brown;">
                    New Game<span aria-hidden>_</span>
                    <span aria-hidden class="cybr-btn__glitch">New Game</span>
                </button>

                <button @click="reload" class="cybr-btn" style="background-color: brown;">
                    Search Games<span aria-hidden>_</span>
                    <span aria-hidden class="cybr-btn__glitch">Search Games</span>
                </button>
            </section>
            <section class="d-flex j justify-content-center w-75 cardGames mb-5">
                <div class="container">
                    <div v-if="games.length > 0" v-for="game in games" class="cardCSS">
                        <div class="box">
                            <div class="content">
                                <h2></h2>
                                <h3>vs</h3>
                                <h3>{{game.player.user}}</h3>
                                <button @click="joinGame(game.idGame)" class="btn btn-primary" type="button">Join</button>
                            </div>
                        </div>
                    </div>
                    <h3 v-else class="text-white">There are no games to join</h3>
                </div>
            </section>
            <table class="table w-75">
                <thead class="table-dark">
                    <tr>
                        <th scope="col">Top</th>
                        <th scope="col">Player</th>
                        <th scope="col">Score Total</th>
                        <th scope="col">Won</th>
                        <th scope="col">Lost</th>
                        <th scope="col">Tied</th>
                    </tr>
                </thead>
                <tbody class="table-dark">
                    <tr v-for="(player, index) in players">
                        <th scope="row">{{index+1}}</th>
                        <td>{{player.user}}</td>
                        <td>{{player.total}}</td>
                        <td>{{player.won}}</td>
                        <td>{{player.lost}}</td>
                        <td>{{player.tied}}</td>
                    </tr>
                </tbody>
            </table>
        </main>

    </div>

    </div>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.6.0/mdb.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/vue@next"></script>
    <script src="./scripts/games.js"></script>
</body>

</html>